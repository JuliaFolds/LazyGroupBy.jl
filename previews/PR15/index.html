<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · LazyGroupBy</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">LazyGroupBy</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="LazyGroupBy.jl"><a class="docs-heading-anchor" href="#LazyGroupBy.jl">LazyGroupBy.jl</a><a id="LazyGroupBy.jl-1"></a><a class="docs-heading-anchor-permalink" href="#LazyGroupBy.jl" title="Permalink"></a></h1><ul><li><a href="#LazyGroupBy.LazyGroupBy"><code>LazyGroupBy.LazyGroupBy</code></a></li><li><a href="#Base.all"><code>Base.all</code></a></li><li><a href="#Base.any"><code>Base.any</code></a></li><li><a href="#Base.collect"><code>Base.collect</code></a></li><li><a href="#Base.count"><code>Base.count</code></a></li><li><a href="#Base.extrema"><code>Base.extrema</code></a></li><li><a href="#Base.findall"><code>Base.findall</code></a></li><li><a href="#Base.findfirst"><code>Base.findfirst</code></a></li><li><a href="#Base.findlast"><code>Base.findlast</code></a></li><li><a href="#Base.foldl"><code>Base.foldl</code></a></li><li><a href="#Base.keys"><code>Base.keys</code></a></li><li><a href="#Base.length"><code>Base.length</code></a></li><li><a href="#Base.map"><code>Base.map</code></a></li><li><a href="#Base.mapfoldl"><code>Base.mapfoldl</code></a></li><li><a href="#Base.maximum"><code>Base.maximum</code></a></li><li><a href="#Base.minimum"><code>Base.minimum</code></a></li><li><a href="#Base.pairs"><code>Base.pairs</code></a></li><li><a href="#Base.prod"><code>Base.prod</code></a></li><li><a href="#Base.sum"><code>Base.sum</code></a></li><li><a href="#Base.view"><code>Base.view</code></a></li><li><a href="#LazyGroupBy.grouped-Tuple{Any,Any}"><code>LazyGroupBy.grouped</code></a></li><li><a href="#Statistics.mean"><code>Statistics.mean</code></a></li><li><a href="#Statistics.std"><code>Statistics.std</code></a></li><li><a href="#Statistics.var"><code>Statistics.var</code></a></li><li><a href="#Transducers.dcollect"><code>Transducers.dcollect</code></a></li><li><a href="#Transducers.foldxd"><code>Transducers.foldxd</code></a></li><li><a href="#Transducers.foldxt"><code>Transducers.foldxt</code></a></li><li><a href="#Transducers.tcollect"><code>Transducers.tcollect</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="LazyGroupBy.LazyGroupBy" href="#LazyGroupBy.LazyGroupBy"><code>LazyGroupBy.LazyGroupBy</code></a> — <span class="docstring-category">Module</span></header><section><div><p><strong>LazyGroupBy: lazy, parallelizable and composable group-by operations</strong></p><p><a href="https://juliafolds.github.io/LazyGroupBy.jl/dev"><img src="https://img.shields.io/badge/docs-dev-blue.svg" alt="Dev"/></a> <a href="https://github.com/JuliaFolds/LazyGroupBy.jl/actions?query=workflow%3A%22Run+tests%22"><img src="https://github.com/JuliaFolds/LazyGroupBy.jl/workflows/Run%20tests/badge.svg" alt="GitHub Actions"/></a></p><p>LazyGroupBy.jl exports a single API <code>grouped</code>.  It can be used to run group-by operation using the dot-call syntax:</p><pre><code class="language-JULIA">reducer.(..., grouped(key, collection), ...)</code></pre><p>where <code>reducer</code> runs on <em>each</em> group (thus, <code>grouped(key, collection)</code> can be considered a as a key-value pairs with <a href="https://github.com/andyferris/Dictionaries.jl">Dictionaries.jl</a>-like broadcasting rule).  Roughly speaking, <code>grouped(key, collection)</code> is equivalent to <code>Dict(k_1 =&gt; [v_11, v_12, ...], k_2 =&gt; [v_21, v_22, ...], ...)</code> where <code>k_i</code> is an output of value of <code>key(v_ij)</code> for <code>v_ij</code> in <code>collection</code> and each call of <code>reducer</code> is evaluated with a group &quot;vector&quot; <code>[v_i1, v_i2, ...]</code>.</p><p>For example:</p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; collect.(grouped(isodd, 1:7))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [2, 4, 6]
  true  =&gt; [1, 3, 5, 7]

julia&gt; length.(grouped(isodd, 1:7))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 4

julia&gt; keys.(grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [1, 7, 9]
  true  =&gt; [2, 3, 4, 5, 6, 8, 10]

julia&gt; foldl.(tuple, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Any,…} with 2 entries:
  false =&gt; ((0, 4), 0)
  true  =&gt; ((((((7, 3), 1), 5), 9), 3), 5)

julia&gt; foldl.(tuple, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]); init = -1)
Transducers.GroupByViewDict{Bool,Tuple{Any,Int64},…} with 2 entries:
  false =&gt; (((-1, 0), 4), 0)
  true  =&gt; (((((((-1, 7), 3), 1), 5), 9), 3), 5)

julia&gt; extrema_rf((min1, max1), (min2, max2)) = (min(min1, min2), max(max1, max2));

julia&gt; mapfoldl.(x -&gt; (x, x), extrema_rf, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Tuple{Int64,Int64},…} with 2 entries:
  false =&gt; (0, 4)
  true  =&gt; (1, 9)</code></pre><p>Following generic and standard reducers are supported:</p><ul><li><code>collect.(op, grouped(...))</code> → <code>DICT{Key,Vector{...}}</code></li><li><code>view.(grouped(_, array))</code> → <code>DICT{Key,SubArray}</code></li><li><code>map.(f, grouped(...))</code></li><li><code>length.(op, grouped(...))</code> → <code>DICT{Key,Int}</code></li><li><code>count.([f,] op, grouped(...))</code> → <code>DICT{Key,Int}</code></li><li><code>sum.([f,] op, grouped(...))</code> → <code>DICT{Key,Number}</code></li><li><code>prod.([f,] op, grouped(...))</code> → <code>DICT{Key,Number}</code></li><li><code>any.(f, op, grouped(...))</code> → <code>DICT{Key,Bool}</code></li><li><code>all.(f, op, grouped(...))</code> → <code>DICT{Key,Bool}</code></li><li><code>minimum.([f,] op, grouped(...))</code></li><li><code>maximum.([f,] op, grouped(...))</code></li><li><code>extrema.([f,] op, grouped(...))</code></li><li><code>keys.(op, grouped(_, collection))</code> → <code>DICT{Key,Vector{keytype(collection)}}</code></li><li><code>pairs.(op, grouped(_, collection))</code> → <code>DICT{Key,DICT{keytype(collection),valtype(collection)}}</code></li><li><code>findfirst.(f, grouped(_, array))</code> → <code>DICT{Key,keytype(collection)}</code></li><li><code>findlast.(f, grouped(_, array))</code> → <code>DICT{Key,keytype(collection)}</code></li><li><code>findall.(f, grouped(_, array))</code> → <code>DICT{Key,Vector{keytype(collection)}}</code></li><li><code>foldl.(op, grouped(...); [init])</code></li><li><code>mapfoldl.(f, op, grouped(...); [init])</code></li></ul><p>where <code>DICT{K,V}</code> above is a short-hand for <code>AbstractDict{&lt;:K,&lt;:V}</code> and <code>Key</code> is the type of the values returned from <code>key</code> function passed to <code>grouped</code>.</p><p>For more complex tasks, <a href="https://github.com/tkf/Transducers.jl">Transducers.jl</a> and <a href="https://github.com/joshday/OnlineStats.jl">OnlineStats.jl</a> can also be used:</p><ul><li><code>foldl.(op, xf, grouped(...); [init])</code></li><li><code>foldxl.(op, [xf,] grouped(...); [init])</code></li><li><code>foldxt.(op, [xf,] grouped(...); [init])</code> (multi-threaded)</li><li><code>foldxd.(op, [xf,] grouped(...); [init])</code> (distributed)</li><li><code>collect.(xf, grouped(...))</code></li><li><code>tcollect.(xf, grouped(...))</code> (multi-threaded version of <code>collect</code>)</li><li><code>dcollect.(xf, grouped(...))</code> (distributed version of <code>collect</code>)</li></ul><p>where <code>xf::Transducer</code> is initiated for each group individually and <code>op</code> is either a two-argument function or an <code>OnlineStat</code> object (e.g., <code>OnlineStats.Mean</code>).</p><p><strong>Caveats</strong></p><p>The dot-call syntax is used for defining the &quot;domain-specific language&quot; (DSL) and it is different from the standard semantics of broadcasting on arrays.  In particular, <code>reducer.(..., grouped(key, collection), ...)</code> may not actually call <code>reducer</code>.  Rather, it is pattern-matched and dispatched to an alternative definition based on Transducers.jl.</p><p><strong>Implementation</strong></p><p>LazyGroupBy.jl is implemented as a direct transformation to <code>foldl</code>/<code>foldxt</code>/<code>foldxd</code> and <code>GroupBy</code> from Transducer.jl.  Consider</p><pre><code class="language-JULIA">foldl.(rf, xf, grouped(key, collection); init = init)</code></pre><p>This is simply translated to</p><pre><code class="language-JULIA">foldl(right, GroupBy(key, xf, rf, init), collection)</code></pre><p>Other reducers like <code>sum</code> and <code>collect</code> are implemented in terms of above transformation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L4-L134">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.all" href="#Base.all"><code>Base.all</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">all.(f, grouped(key, array))</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 3];

julia&gt; gs = all.(&lt;(1), grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Bool,…} with 2 entries:
  false =&gt; true
  true  =&gt; false</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.any" href="#Base.any"><code>Base.any</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">any.(f, grouped(key, array))</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 3];

julia&gt; gs = any.(&gt;(5), grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Bool,…} with 2 entries:
  false =&gt; false
  true  =&gt; true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.collect" href="#Base.collect"><code>Base.collect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">collect.([xf,] grouped(key, collection))</code></pre><p>Collect each group as a <code>Vector</code>.</p><p>The first optional argument <code>xf</code> is a transducer.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; collect.(grouped(isodd, [0, 7, 3]))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [0]
  true  =&gt; [7, 3]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L333">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.count" href="#Base.count"><code>Base.count</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">count.([f,] grouped(key, collection))</code></pre><p>Count number of items <code>f</code> is evaluated to <code>true</code> in each group.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; count.(&lt;(5), grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.extrema" href="#Base.extrema"><code>Base.extrema</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">extrema.([f,] grouped(key, collection); [init])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 2, 3];

julia&gt; extrema.(grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Tuple{Int64,Int64},…} with 2 entries:
  false =&gt; (0, 2)
  true  =&gt; (3, 7)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.findall" href="#Base.findall"><code>Base.findall</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">findall.(f, grouped(key, array))</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 2, 3];

julia&gt; gs = findall.(&gt;(1), grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [3]
  true  =&gt; [2, 4]

julia&gt; xs[gs[false]]
1-element Array{Int64,1}:
 2

julia&gt; xs[gs[true]]
2-element Array{Int64,1}:
 7
 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L340">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.findfirst" href="#Base.findfirst"><code>Base.findfirst</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">findfirst.(f, grouped(key, array))</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 2, 3];

julia&gt; gs = findfirst.(&gt;(1), grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 2

julia&gt; xs[gs[false]]
2

julia&gt; xs[gs[true]]
7</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.findlast" href="#Base.findlast"><code>Base.findlast</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">findlast.(f, grouped(key, array))</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 2, 3];

julia&gt; gs = findlast.(&lt;(5), grouped(isodd, xs))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 4

julia&gt; xs[gs[false]]
2

julia&gt; xs[gs[true]]
3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.foldl" href="#Base.foldl"><code>Base.foldl</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">foldl.(op, [xf,] grouped(key, collection); [init])
foldl.(os::OnlineStat, [xf,] grouped(key, collection); [init])</code></pre><p>The first argument is either a reducing step function or an <code>OnlineStat</code>.  The second optional argument <code>xf</code> is a transducer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; foldl.(tuple, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Any,…} with 2 entries:
  false =&gt; ((0, 4), 0)
  true  =&gt; ((((((7, 3), 1), 5), 9), 3), 5)

julia&gt; using OnlineStats

julia&gt; foldl.(Ref(Mean()), grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Mean{Float64,EqualWeight},…} with 2 entries:
  false =&gt; Mean: n=3 | value=1.33333
  true  =&gt; Mean: n=7 | value=4.71429</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L340">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.keys" href="#Base.keys"><code>Base.keys</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">keys.(grouped(key, indexable))</code></pre><p>Return a dictionary whose value is a vector of keys to the <code>indexable</code> input collection.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; keys.(grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [1, 7, 9]
  true  =&gt; [2, 3, 4, 5, 6, 8, 10]

julia&gt; keys.(grouped(isodd, Dict(zip(&#39;a&#39;:&#39;e&#39;, 1:5))))
Transducers.GroupByViewDict{Bool,Array{Char,1},…} with 2 entries:
  false =&gt; [&#39;d&#39;, &#39;b&#39;]
  true  =&gt; [&#39;a&#39;, &#39;c&#39;, &#39;e&#39;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.length" href="#Base.length"><code>Base.length</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">length.(grouped(key, collection))</code></pre><p>Count number of items in each group.  This is defined as <code>count.(_ -&gt; true, grouped(key, collection))</code> rather than materializing each group vector.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; length.(grouped(isodd, 1:7))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.map" href="#Base.map"><code>Base.map</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">map.(f, grouped(key, collection))</code></pre><p>Like <code>collect.(grouped(key, collection))</code>, but process each item with <code>f</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; map.(string, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Array{String,1},…} with 2 entries:
  false =&gt; [&quot;0&quot;, &quot;4&quot;, &quot;0&quot;]
  true  =&gt; [&quot;7&quot;, &quot;3&quot;, &quot;1&quot;, &quot;5&quot;, &quot;9&quot;, &quot;3&quot;, &quot;5&quot;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L332">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.mapfoldl" href="#Base.mapfoldl"><code>Base.mapfoldl</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mapfoldl.(f, op, grouped(key, collection); [init])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; extrema_rf((min1, max1), (min2, max2)) = (min(min1, min2), max(max1, max2));

julia&gt; mapfoldl.(x -&gt; (x, x), extrema_rf, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Tuple{Int64,Int64},…} with 2 entries:
  false =&gt; (0, 4)
  true  =&gt; (1, 9)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.maximum" href="#Base.maximum"><code>Base.maximum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">maximum.([f,] grouped(key, collection); [init])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; maximum.(grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 4
  true  =&gt; 9</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.minimum" href="#Base.minimum"><code>Base.minimum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">minimum.([f,] grouped(key, collection); [init])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; minimum.(grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 0
  true  =&gt; 1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.pairs" href="#Base.pairs"><code>Base.pairs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">pairs.(grouped(key, indexable))</code></pre><p>Return a dictionary whose value is a vector of keys to the <code>indexable</code> input collection.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; pairs.(grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Dict{Int64,Int64},…} with 2 entries:
  false =&gt; Dict(7=&gt;4,9=&gt;0,1=&gt;0)
  true  =&gt; Dict(4=&gt;1,10=&gt;5,2=&gt;7,3=&gt;3,5=&gt;5,8=&gt;3,6=&gt;9)

julia&gt; pairs.(grouped(isodd, Dict(zip(&#39;a&#39;:&#39;e&#39;, 1:5))))
Transducers.GroupByViewDict{Bool,Dict{Char,Int64},…} with 2 entries:
  false =&gt; Dict(&#39;d&#39;=&gt;4,&#39;b&#39;=&gt;2)
  true  =&gt; Dict(&#39;a&#39;=&gt;1,&#39;c&#39;=&gt;3,&#39;e&#39;=&gt;5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L337">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.prod" href="#Base.prod"><code>Base.prod</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">prod.([f,] grouped(key, collection); [prod])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; prod.(grouped(isodd, [7, 3, 1, 5, 9, 4, 3, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 4
  true  =&gt; 14175</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.sum" href="#Base.sum"><code>Base.sum</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sum.([f,] grouped(key, collection); [init])</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; sum.(grouped(isodd, [7, 3, 1, 5, 9, 4, 3, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 4
  true  =&gt; 33</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.view" href="#Base.view"><code>Base.view</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">view.(grouped(key, array))</code></pre><p>Like <code>collect.(grouped(key, array))</code>, but return a mutable view to the input <code>array</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; xs = [0, 7, 3];

julia&gt; gs = view.(grouped(isodd, xs))
Dict{Bool,SubArray{Int64,1,Array{Int64,1},Tuple{Array{Int64,1}},false}} with 2 entries:
  false =&gt; [0]
  true  =&gt; [7, 3]

julia&gt; gs[false][end] = 111;

julia&gt; xs
3-element Array{Int64,1}:
 111
   7
   3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L343">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="LazyGroupBy.grouped-Tuple{Any,Any}" href="#LazyGroupBy.grouped-Tuple{Any,Any}"><code>LazyGroupBy.grouped</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">grouped(key, collection)</code></pre><p>Create a lazy associative (dict-like) object grouped by a function <code>key</code>.  Actual per-group reduction can be initiated by the dot-call (broadcasting) of the &quot;reducers&quot; like <code>foldl</code> and <code>reduce</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy

julia&gt; length.(grouped(isodd, 1:7))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 3
  true  =&gt; 4</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L51-L67">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.mean" href="#Statistics.mean"><code>Statistics.mean</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mean.([f,] grouped(key, collection))</code></pre><p>Compute <code>mean</code> of each group.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy, Statistics

julia&gt; mean.(grouped(isodd, 1:7))
Dict{Bool,Float64} with 2 entries:
  false =&gt; 4.0
  true  =&gt; 4.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.std" href="#Statistics.std"><code>Statistics.std</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">std.([f,] grouped(key, collection))</code></pre><p>Compute standard deviation of each group.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy, Statistics

julia&gt; std.(grouped(isodd, 1:10))
Dict{Bool,Float64} with 2 entries:
  false =&gt; 3.16228
  true  =&gt; 3.16228</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Statistics.var" href="#Statistics.var"><code>Statistics.var</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">var.([f,] grouped(key, collection))</code></pre><p>Compute variance of each group.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy, Statistics

julia&gt; var.(grouped(isodd, 1:10))
Dict{Bool,Float64} with 2 entries:
  false =&gt; 10.0
  true  =&gt; 10.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L331">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Transducers.dcollect" href="#Transducers.dcollect"><code>Transducers.dcollect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dcollect.([xf,] grouped(key, collection))</code></pre><p>Collect each group as a <code>Vector</code> using Distributed.jl.</p><p>The first optional argument <code>xf</code> is a transducer.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy
       using Transducers

julia&gt; dcollect.(grouped(isodd, [0, 7, 3]))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [0]
  true  =&gt; [7, 3]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Transducers.foldxd" href="#Transducers.foldxd"><code>Transducers.foldxd</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">foldxd.(op, [xf,] grouped(key, collection); [init])
foldxd.(os::OnlineStat, [xf,] grouped(key, collection); [init])</code></pre><p>The first argument is either a reducing step function or an <code>OnlineStat</code>.  The second optional argument <code>xf</code> is a transducer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy
       using Transducers

julia&gt; foldxd.(+, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 4
  true  =&gt; 33</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Transducers.foldxt" href="#Transducers.foldxt"><code>Transducers.foldxt</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">foldxt.(op, [xf,] grouped(key, collection); [init])
foldxt.(os::OnlineStat, [xf,] grouped(key, collection); [init])</code></pre><p>The first argument is either a reducing step function or an <code>OnlineStat</code>.  The second optional argument <code>xf</code> is a transducer.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy, Transducers

julia&gt; foldxt.(max, grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Int64,…} with 2 entries:
  false =&gt; 4
  true  =&gt; 9

julia&gt; using OnlineStats

julia&gt; foldxt.(Ref(Mean()), grouped(isodd, [0, 7, 3, 1, 5, 9, 4, 3, 0, 5]))
Transducers.GroupByViewDict{Bool,Mean{Float64,EqualWeight},…} with 2 entries:
  false =&gt; Mean: n=3 | value=1.33333
  true  =&gt; Mean: n=7 | value=4.71429</code></pre><p>An example for calculating the minimum, maximum, and number of each group in one go:</p><pre><code class="language-julia-repl">julia&gt; table = ((k = gcd(v, 42), v = v) for v in 1:100);

julia&gt; collect(Iterators.take(table, 5))  # preview
5-element Array{NamedTuple{(:k, :v),Tuple{Int64,Int64}},1}:
 (k = 1, v = 1)
 (k = 2, v = 2)
 (k = 3, v = 3)
 (k = 2, v = 4)
 (k = 1, v = 5)

julia&gt; counter = reducingfunction(Map(_ -&gt; 1), +);

julia&gt; foldxt.(TeeRF(min, max, counter), Map(x -&gt; x.v), grouped(x -&gt; x.k, table))
Transducers.GroupByViewDict{Int64,Tuple{Int64,Int64,Int64},…} with 8 entries:
  7  =&gt; (7, 91, 5)
  14 =&gt; (14, 98, 5)
  42 =&gt; (42, 84, 2)
  2  =&gt; (2, 100, 29)
  3  =&gt; (3, 99, 15)
  21 =&gt; (21, 63, 2)
  6  =&gt; (6, 96, 14)
  1  =&gt; (1, 97, 28)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L368">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Transducers.tcollect" href="#Transducers.tcollect"><code>Transducers.tcollect</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">tcollect.([xf,] grouped(key, collection))</code></pre><p>Collect each group as a <code>Vector</code> using multiple threads. See also <a href="#Base.collect"><code>collect.(grouped(key, collection))</code></a>.</p><p>The first optional argument <code>xf</code> is a transducer.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; using LazyGroupBy
       using Transducers

julia&gt; tcollect.(grouped(isodd, [0, 7, 3]))
Transducers.GroupByViewDict{Bool,Array{Int64,1},…} with 2 entries:
  false =&gt; [0]
  true  =&gt; [7, 3]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaFolds/LazyGroupBy.jl/blob/27e9eaa8a6323969182b8442f067203d35a0a09b/src/LazyGroupBy.jl#L316-L335">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="internals/">Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 1 October 2020 00:22">Thursday 1 October 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
